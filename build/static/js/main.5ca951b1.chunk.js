(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{205:function(e,t,n){e.exports=n.p+"static/media/psych_logo.6956dbda.jpg"},209:function(e,t,n){e.exports=n(687)},216:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},663:function(e,t,n){},664:function(e,t,n){},665:function(e,t,n){},685:function(e,t,n){},687:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(108),o=n.n(s),i=(n(216),n(45)),c=n(46),u=n(49),l=n(47),_=n(48),p=(n(217),n(40)),m=n(23),h=n(205),d=n.n(h),f=(n(218),n(110));function b(e){return void 0===e||0==e.length}function E(e,t,n,a,r,s,o,i,c){var u=arguments.length,l=0;if(u>9||u<6)throw new Error("Incorrect number of arguments");if((u<7||b(o))&&(o=.01),u<8||b(i))l=500;else{if(i<=0)throw new Error("Range must be greater than 0");l=i/o,l=2*Math.ceil(l/2)}if((u<9||b(c))&&(c=0),!isFinite(e)||isNaN(e))throw new Error("tGuess must be real and finite");var _=function(e,t,n,a,r,s,o,i){return{updatePdf:1,warnPdf:1,normalizePdf:1,tGuess:e,tGuessSd:t,pThreshold:n,xThreshold:0,beta:a,delta:r,gamma:s,grain:o,dim:i,i:[],x:[],x2:[],p2:[],s2:[],intensity:[],response:[],trialCount:0,quantileOrder:0}}(e,t,n,a,r,s,o,l);return _=g(_,c)}function g(e,t){var a=n(69);if(arguments.length<1)throw new Error("Usage: QuestRecompute( q, plotIt = 0 )");if(e.updatePdf){e.gamma>e.pThreshold&&(console.log("Reducing gamma from %.2f to 0.5"),e.gamma=.5),(arguments.length<2||b(t))&&(t=0),e.i=[],e.x=[],e.x2=[],e.p2=[],e.s2=[];for(var r=-e.dim/2;r<=e.dim/2;r++)e.i.push(r);e.x=e.i.map(function(t){return t*e.grain});var s=e.x.map(function(t){return t/e.tGuessSd}),o=s.map(function(e){return Math.pow(e,2)});e.pdf=o.map(function(e){return-.5*e}).map(function(e){return Math.exp(e)});var i=T(e.pdf);e.pdf=e.pdf.map(function(e){return e/i});var c=[];for(r=-e.dim;r<=e.dim;r++)c.push(r);if(e.x2=c.map(function(t){return a.eval(t+"*"+e.grain)}),s=e.x2.map(function(t){return a.eval(t+"*"+e.beta)}),e.p2=s.map(function(t){return a.eval(e.delta+"*"+e.gamma+"+ ( 1 -"+e.delta+" ) * ( 1 - ( 1-"+e.gamma+") *e^(-10 ^ "+t+"))")}),Math.min(e.p2[0],e.p2[e.p2.length-1])>e.pThreshold||Math.max(e.p2[0],e.p2[e.p2.length-1])<e.pThreshold)throw new Error("psychometric function range ["+Math.min.apply(null,e.p2)+" "+Math.max.apply(null,e.p2)+" ] omits "+e.pThreshold+" threshold");var u=n(106).linear;e.xThreshold=u(e.pThreshold,e.p2,e.x2);for(r=0;r<e.p2.length;r++)if(!isFinite(e.p2[r]))throw new Error("psychometric function p2 is not finite"+r);e.p2=e.x2.map(function(t){return a.eval(e.delta+"*"+e.gamma+"+ ( 1 -"+e.delta+" ) * ( 1 - ( 1-"+e.gamma+") *e^(-10 ^ ("+e.beta+"* ("+t+"+"+e.xThreshold+"))))")});var l=e.p2.slice(),_=(l=l.reverse()).map(function(e){return 1-e}),p=l;if(e.s2[0]=_,e.s2[1]=p,0==e.intensity.length||0==e.response.length){var m=new Array(1e4).fill(0);e.trialCount=0,e.intensity=m,e.response=m}for(var h=0;h<e.s2.length;h++)for(r=0;r<e.s2[h].length;r++)if(!isFinite(e.s2[h][r]))throw new Error("psychometric function s2 is not finite"+r);var d=e.p2[0],f=e.p2[e.p2.length-1],E=f*Math.log(f+Number.EPSILON)-d*Math.log(d+Number.EPSILON)+(1-f+Number.EPSILON)*Math.log(1-f+Number.EPSILON)-(1-d+Number.EPSILON)*Math.log(1-d+Number.EPSILON);E=1/(1+Math.exp(E/(d-f))),e.quantileOrder=(E-d)/(f-d);for(var g=0;g<e.pdf.length;g++)if(!isFinite(e.pdf[g]))throw new Error("prior pdf is not finite");for(h=0;h<e.trialCount;h++){var y=Math.max(-1e10,Math.min(1e10,e.intensity[h])),O=e.i.map(function(t){return e.pdf.length+t-Math.round((y-e.tGuess)/e.grain)});O[0]<1&&(O=O.map(function(e){return e+1-O[0]})),O[O.length-1]>e.s2[0].length&&(O=O.map(function(t){return t+e.s2.length-O[O.length-1]}));var w=O.map(function(t){return e.s2[e.response[h]][t]});for(r=0;r<w.length;r++)e.pdf[r]=e.pdf[r]*w[r];e.normalizePdf&&h%100==0&&function(){var t=T(e.pdf);e.pdf=e.pdf.map(function(e){return e/t})}()}if(e.normalizePdf){var v=T(e.pdf);e.pdf=e.pdf.map(function(e){return e/v})}for(r=0;r<e.pdf.length;r++)if(!isFinite(e.pdf[r]))throw new Error("pdf is not finite");return e}}function y(e,t,n){if(3!=arguments.length)throw new Error("Incorrect number of parameters (3) ");if(void 0===e)throw new Error("q is undefined ");if(!isFinite(t)||isNaN(t))throw new Error("Intensity must be real, not complex");if(n<0||n>=e.s2.length)throw new Error("response "+n+" is out of range 0 to "+e.s2.length);if(1==e.updatePdf){var a=Math.max(-1e10,Math.min(1e10,t)),r=e.i.map(function(t){return e.pdf.length+t-Math.round((a-e.tGuess)/e.grain)});if(r[0]<1||r[r.length-1]>e.s2[0].length){if(1==e.warnPdf){var s=(1-e.pdf.length-e.i[0])*e.grain+e.tGuess,o=(e.s2[0].length-e.pdf.length-e.i[e.i.length-1])*e.grain+e.tGuess;alert("QuestUpdate: intensity "+a+" out of range "+s+" to "+o+'. Pdf will be inexact. Suggest that you increase "range" in call to QuestCreate.')}r=r[0]<1?r.map(function(e){return e+1-r[0]}):r.map(function(t){return t+e.s2[0].length-r[r.length-1]})}for(var i=0;i<r.length;i++)e.pdf[i]=e.pdf[i]*e.s2[n][r[i]-1];if(e.normalizePdf){var c=T(e.pdf);e.pdf=e.pdf.map(function(e){return e/c})}}if(e.trialCount+=1,e.trialCount>e.intensity.length)for(var u=0;u<1e4;u++)e.intensity.push(0),e.response.push(0);for(var l=0;l<e.trialCount;l++)e.intensity[l]=.5,e.response[l]=n;return e}function O(e){if(1!=arguments.length)throw new Error("Usage: t=QuestMean(q)");var t=T(e.pdf),n=T(q(e.pdf,e.x));return e.tGuess+n/t}function w(e){if(1!=arguments.length)throw new Error("Usage: sd=QuestSd(q)");var t=T(e.pdf),n=e.x.map(function(e){return Math.pow(e,2)}),a=T(q(e.pdf,e.x))/t;return Math.sqrt(T(q(e.pdf,n))/t-Math.pow(a,2))}function v(e,t){if(arguments.length>2)throw new Error("Usage: intensity=QuestQuantile(q,[quantileOrder])");if(arguments.length<2&&(t=e.quantileOrder),t>1||t<0)throw new Error("quantileOrder"+t+" is outside range 0 to 1.");var a=function(e){var t=[];return e.reduce(function(e,n,a){return t[a]=e+n},0),t}(e.pdf);if(!isFinite(a[a.length-1]))throw new Error("pdf is not finite");if(0==a[a.length-1])throw new Error("pdf is all zero");if(t<a[0])return e.tGuess+e.x[0];if(t>a[a.length-1])return e.tGuess+e.x[e.x.length-1];var r=a.slice();r.unshift(-1);var s=function(e){for(var t=[],n=0;n<e.length;n++)e[n]>0&&t.push(n);return t}(function(e){for(var t=[],n=0;n<e.length-1;n++)t.push(e[n+1]-e[n]);return t}(r));if(s.length<2)throw new Error("pdf has only "+s.length+" nonzero point(s)");var o=n(106).linear,i=j(a,s),c=j(e.x,s);return e.tGuess+o(t*a[a.length-1],i,c)[0]}function S(e,t,a,r,s,o){var i=n(69);if(arguments.length<5||arguments.length>6)throw new Error("Incorrect number of parameters: alpha, beta, gamma, lambda, x, varargin");if(o){if("Inverse"===o)if(Object(f.isArray)(s))var c=s.map(function(t){var n=i.eval("("+t+"-"+a+" ) / (1 - "+a+"-"+r+") - 1");return n=i.eval("-1 * log( -1 * "+n+")"),n=i.eval("log10( "+n+")"),n=i.divide(n,2),i.add(e,n)});else{var u=i.eval("("+s+"-"+a+" ) / (1 - "+a+"-"+r+") - 1");u=i.eval("-1 * log( -1 * "+u+")"),u=i.eval("log10( "+u+")"),u=i.divide(u,2);c=i.add(e,u)}if("Derivative"===o)if(Object(f.isArray)(s))c=s.map(function(n){return i.eval("( 1 - "+a+" - "+r+") * e^(-1 * 10^("+t+"*("+n+"-"+e+"))) * log(10) * 10^( "+t+"*("+n+"-"+e+"))*"+t)});else c=(1-a-r)*Math.exp(-1*Math.pow(10,t*(s-e)))*Math.log(10)*Math.pow(10,t*(s-e))*t}else if(Object(f.isArray)(s))c=s.map(function(n){return i.eval(a+"+ ( 1 - "+a+" - "+r+") * ( 1 - e^(-1 * 10^("+t+"*("+n+"-"+e+"))))")});else c=i.eval(a+"+ ( 1 - "+a+" - "+r+") * ( 1 - e^(-1 * 10^("+t+"*("+s+"-"+e+"))))");return c}function j(e,t){for(var n=[],a=0;a<t.length;a++)n.push(e[t[a]]);return n}function q(e,t){return e.map(function(e,n){return e*t[n]})}function T(e){return e.reduce(function(e,t){return e+t},0)}function D(e,t){var a=n(69),r=O(e),s=w(e),o=O(t),i=w(t),c=a.mean([r,o]);a.mean([s,i]);return function(e,t,a,r,s){var o={intensities:[],parameters:[],beta:0},i=[];i.push([25,50,75,90]),i.push([]);var c=n(69),u=[];u.push(N(e)),u.push(N(t)),o.parameters=u;var l=a,_=c.mean(e.beta,t.beta);o.beta=_;var p=n(652),m=function(e){return(S(l,3.5,s,r,e)-.25).toString()};p(m,2).solution;return i[1].push(parseFloat(p(m,2).solution)),i[1].push(parseFloat(p(function(e){return(S(l,3.5,s,r,e)-.5).toString()},2).solution)),i[1].push(parseFloat(p(function(e){return(S(l,3.5,s,r,e)-.75).toString()},2).solution)),i[1].push(parseFloat(p(function(e){return(S(l,3.5,s,r,e)-.9).toString()},2).solution)),i.push(i[1]),o.intensities=i,o}(e,t,c,0,.01)}function N(e){var t=n(69),a=E(e.tGuess,e.tGuessSd,e.pThreshold,t.eval("2^(1/4)"),e.delta,e.gamma,.02);a.dim=250;var r=g(a),s=T(r.pdf);if(0==s)throw new Error("Beta has zero probability, ",s);var o=O(a=r),i=function(e,t){if(2!=arguments.length)throw new Error("Usage: p=QuestPdf(q,t)");var n=Math.round((t-e.tGuess)/e.grain)+1+e.dim/2;return n=Math.min(e.pdf.length,Math.max(1,n)),e.pdf[n-1]}(a,o),c=(w(a),a.beta),u=i,l=o,_=w(a);t.sum(i*c),t.sqrt(t.sum(i*t.pow(c,2))/u-t.pow(t.sum(i*c)/u,2));return{t:l,sd:_,betaEstimate:1/(t.sum(i/c)/u),iBetaSd:t.sqrt(t.sum(i/t.pow(c,2))/u-t.pow(t.sum(i/c)/u,2))}}var k=n(41),A=function(e){return{type:"ADD_ARRAY",payload:e}},P=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).keyFunction=n.keyFunction.bind(Object(m.a)(Object(m.a)(n))),n.state={continue:!1},n}return Object(_.a)(t,e),Object(c.a)(t,[{key:"keyFunction",value:function(e){81===e.keyCode&&(alert("User has Requested to Continue"),this.setState(function(e,t){return{continue:!0}}))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){var e=E(.5,.1,.75,3.5,.01,.01,.001,.05),t=E(.5,.1,.75,3.5,.01,.01,.001,.05);return t.updatePdf=1,D(e,t=y(t,.5,1)),!0===this.state.continue?r.a.createElement(p.a,{to:"/Instructions"}):r.a.createElement("div",{className:"Welcome"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Welcome-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Welcome-text"},r.a.createElement("span",{className:"bigger"},"Welcome to the study! "),r.a.createElement("br",null),r.a.createElement("br",null),"Please enter responses to the questions asked by pressing the:",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null," 'Q' key for 'YES I SEE IT'")," or ",r.a.createElement("b",null," 'E' key for \"NO I DO NOT'"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," Sometimes it may be difficult to answer, but if you do not know, please make your best guess.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," PRESS the ",r.a.createElement("b",null," YES I SEE IT / 'Q' key")," to CONTINUE")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:d.a,className:"Site-link",alt:"logo"}))))}}]),t}(a.Component),x=Object(k.c)(function(e){return{data:e.data}},function(e){return{add_response_1:function(t){return e({type:"ADD_RESPONSE_1",payload:t})},add_array:function(t){return e(A(t))}}})(P),M=(n(663),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).keyFunction=n.keyFunction.bind(Object(m.a)(Object(m.a)(n))),n.state={continue:!1},n}return Object(_.a)(t,e),Object(c.a)(t,[{key:"keyFunction",value:function(e){81===e.keyCode&&(alert("User has Requested to Continue"),this.setState(function(e,t){return{continue:!0}}))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return!0===this.state.continue?r.a.createElement(p.a,{to:"/TrialQ"}):r.a.createElement("div",{className:"Instructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Instructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Instructions-text"},"This is a vision test.",r.a.createElement("br",null),r.a.createElement("br",null)," A visual white noise will be shown throughout the experiment.",r.a.createElement("br",null),r.a.createElement("br",null)," A striped-texture will appear inside the white noise when a tone is played.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO "),"see the stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," see the stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}]),t}(a.Component)),C=(n(664),function(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!"))}),I=(n(665),function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).keyFunction=n.keyFunction.bind(Object(m.a)(Object(m.a)(n))),n.state={continue:!1},n}return Object(_.a)(t,e),Object(c.a)(t,[{key:"keyFunction",value:function(e){81===e.keyCode&&(alert("User has Requested to Continue"),this.setState(function(e,t){return{continue:!0}}))}},{key:"componentDidMount",value:function(){var e=n(666);e.post("https://btonf9vkn8.execute-api.us-east-2.amazonaws.com/DEV/service",{record_id:"2",responses_1:"1, 1, 0, 1, 1",responses_2:"0, 0, 0, 0, 0",response_time_1:"1.5, 1.3, 1.2, 1.0, 1.5",response_time_2:"0.5, 1, 1.5, 1, 1",contrast_1:"0.5, 0.5, 0.75, 1, 1",contrast_2:"0.8, 1, 0.7, 0.6, 0.5",intensity_data:"{[1, 2, 3], [0.5, 0.6, 0.7], [0.5, 0.6, 0.7]}",data:"{[1], [1, 1, 1, 1, 1], [0, 0, 0, 0, 0], [1.5, 1.3, 1.2, 1.0, 1.5], [0.5, 1, 1.5, 1, 1], [0.5, 0.5, 0.75, 1, 1], [0.8, 1, 0.7, 0.6, 0.5], {[1, 2, 3], [0.5, 0.6, 0.7], [0.5, 0.6, 0.7]}}  "}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),e.delete("https://btonf9vkn8.execute-api.us-east-2.amazonaws.com/DEV/service",{data:{record_id:1}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),document.addEventListener("keydown",this.keyFunction,!1)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return console.log(this.props.data),r.a.createElement("div",{className:"Complete"},r.a.createElement("header",{className:"Complete-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Complete-text"},"Congratulations",r.a.createElement("br",null),r.a.createElement("br",null)," You have completed the first trial",r.a.createElement("br",null),r.a.createElement("br",null)," You responses have been recorded:",r.a.createElement("br",null),r.a.createElement("br",null),"Responses:",this.props.data.responses_q_1.map(function(e,t){return r.a.createElement("li",{key:t,style:{listStyleType:"none"}},e)}),"Response Times:",this.props.data.response_time_q_1.map(function(e,t){return r.a.createElement("li",{key:t,style:{listStyleType:"none"}},e)}),"Contrasts:",this.props.data.contrast_q_1.map(function(e,t){return r.a.createElement("li",{key:t,style:{listStyleType:"none"}},e)}),"Intensities:",this.props.data.trial1Struct.intensities.map(function(e,t){return r.a.createElement("li",{key:t,style:{listStyleType:"none"}},e)}),r.a.createElement("br",null),r.a.createElement("br",null)))))}}]),t}(a.Component)),R=Object(k.c)(function(e){return{data:e.data}})(I),Q=n(136),F=n.n(Q),z=n(208);n(685);function G(e,t){for(var n=[],a=[],r=1;r<e.imsize+1;r++)for(var s=1;s<e.imsize+1;s++)n[4*(r-1+(s-1)*e.imsize)+0]=r-(e.imsize+1)/2,n[4*(r-1+(s-1)*e.imsize)+1]=r-(e.imsize+1)/2,n[4*(r-1+(s-1)*e.imsize)+2]=r-(e.imsize+1)/2,n[4*(r-1+(s-1)*e.imsize)+3]=r-(e.imsize+1)/2,a[4*(r-1+(s-1)*e.imsize)+0]=s-(e.imsize+1)/2,a[4*(r-1+(s-1)*e.imsize)+1]=s-(e.imsize+1)/2,a[4*(r-1+(s-1)*e.imsize)+2]=s-(e.imsize+1)/2,a[4*(r-1+(s-1)*e.imsize)+3]=s-(e.imsize+1)/2;for(var o=[],i=0;i<n.length&&i<a.length;i++)o[i]=.5*Math.cos(2*Math.PI*(e.frequency*(Math.sin(Math.PI/180*e.angle)*n[i]+Math.cos(Math.PI/180*e.angle)*a[i])+e.phase))*t;return o.map(function(t){return e.background+t*e.background})}var L=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).keyFunction=n.keyFunction.bind(Object(m.a)(Object(m.a)(n))),n.create_noise=n.create_noise.bind(Object(m.a)(Object(m.a)(n))),n.state={continue:!1,counter:0,counter2:0,change:!1,rating_img:!1,rating_window:!1,responses_q_1:[],contrast_array_q_1:[],response_time_q_1:[],responses_q_2:[],contrast_array_q_2:[],response_time_q_2:[],time_window:!1,time_window_start:0,limit:100,currentQ:1},n.canvasRef=r.a.createRef(),n.audioContext=new AudioContext,n}return Object(_.a)(t,e),Object(c.a)(t,[{key:"create_noise",value:function(e){var t,a=5,r=0,s=0,o=0,i=new(n(686)),c=document.getElementById("c"),u=c.getContext("2d"),l=u.getImageData(0,0,c.width,c.height),_=l.data,p=0,m=.5,h=E(m,.1,.75,3.5,.01,.01,.001,20),d=E(m,.1,.75,3.5,.01,.01,.001,20),f=function(){var e={background:127.5,angle:Math.floor(135*Math.random())+45,imsize:256,initcontrast:.5,threshold:.2,phases:[0,.25],phase:0,alpha:.5,ppd:160,frequency:0};return e.phase=e.phases[Math.round(Math.random())],e.frequency=2/e.ppd,e}(),b=G(f,0),g=Math.floor(50*Math.random()),O=100,w=0,S=void 0,j=this,q=new Image;function T(){return N.apply(this,arguments)}function N(){return(N=Object(z.a)(F.a.mark(function n(){var E,N,k,A,P,x,M,C,I,R;return F.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(p==O+g&&(r=j.state.counter,s=j.state.counter2,o=r+s,console.log(v(h),v(d)),r==s&&j.setState({currentQ:1}),r!=s&&(s++,j.setState({currentQ:2})),1==j.state.currentQ&&(w=(r=0)?m+.3:v(h)),2==j.state.currentQ&&(w=(s=0)?m-.3:v(d)),console.log(w),E=(new Date).getTime()/1e3,j.setState({rating_window:!0,time_window:!0,time_window_start:E}),console.log("for 1",j.state.responses_q_1,j.state.contrast_array_q_1),console.log("for 2",j.state.responses_q_2,j.state.contrast_array_q_2),t=G(f,w),Y(50,830,300,e)),N=0;N<256;N++)for(k=0;k<256;k++)p==O+g||p==O+g+1||p==O+g+2||p==O+g+3||p==O+g+4||p==O+g+5||p==O+g+6||p==O+g+7||p==O+g+8||p==O+g+9||p==O+g+10||p==O+g+11||p==O+g+12||p==O+g+13||p==O+g+14||p==O+g+15||p==O+g+16||p==O+g+17||p==O+g+18||p==O+g+19||p==O+g+20||p==O+g+21||p==O+g+22||p==O+g+23||p==O+g+24||p==O+g+25||p==O+g+26||p==O+g+27||p==O+g+28||p==O+g+29||p==O+g+30?(p==O+g+30&&(p=0),A=.4*i.noise3D(N/8,k/8,p/8)+.35,_[4*(N+256*k)+0]=f.alpha*t[4*(N+256*k)+0]+(1-f.alpha)*A*250,_[4*(N+256*k)+1]=f.alpha*t[4*(N+256*k)+1]+(1-f.alpha)*A*250,_[4*(N+256*k)+2]=f.alpha*t[4*(N+256*k)+2]+(1-f.alpha)*A*250,_[4*(N+256*k)+3]=255):(E=(new Date).getTime()/1e3,j.state.time_window_start+2.5==E?(j.setState({time_window:!1,rating_img:!1}),1==j.state.currentQ&&j.state.contrast_array_q_1.length<j.state.responses_q_1.length&&(j.setState({contrast_array_q_1:j.state.contrast_array_q_1.concat([w])}),j.setState({change:!0})),2==j.state.currentQ&&j.state.contrast_array_q_2.length<j.state.responses_q_2.length&&(j.setState({contrast_array_q_2:j.state.contrast_array_q_2.concat([w])}),j.setState({change:!0})),A=.4*i.noise3D(N/8,k/8,p/8)+.35,_[4*(N+256*k)+0]=f.alpha*b[4*(N+256*k)+0]+(1-f.alpha)*A*250,_[4*(N+256*k)+1]=f.alpha*b[4*(N+256*k)+1]+(1-f.alpha)*A*250,_[4*(N+256*k)+2]=f.alpha*b[4*(N+256*k)+2]+(1-f.alpha)*A*250,_[4*(N+256*k)+3]=255):(A=.4*i.noise3D(N/8,k/8,p/8)+.35,_[4*(N+256*k)+0]=f.alpha*b[4*(N+256*k)+0]+(1-f.alpha)*A*250,_[4*(N+256*k)+1]=f.alpha*b[4*(N+256*k)+1]+(1-f.alpha)*A*250,_[4*(N+256*k)+2]=f.alpha*b[4*(N+256*k)+2]+(1-f.alpha)*A*250,_[4*(N+256*k)+3]=255));if(p++,u.putImageData(l,0,0),q.src="https://www.shareicon.net/data/256x256/2015/12/04/682310_cross_512x512.png",P=c.width/8,x=c.height/8,j.state.time_window_start<E&&j.state.time_window_start>E-.75&&(q.src="https://ecdn.teacherspayteachers.com/thumbitem/Visual-Rating-Scale-1-5-2100331-1459950062/original-2100331-1.jpg",P=c.width/2,x=c.height/2),M=c.width/2-P/2,C=c.height/2-x/2,u.fillStyle="gray",u.fillRect(M,C,P,x),u.drawImage(q,M,C,P,x),o!=a){n.next=21;break}for(I=D(h,d),j.props.add_object(I),window.cancelAnimationFrame(S),j.audioContext.close(),R=0;R<a;R++)j.props.add_response_q_1(j.state.responses_q_1[R]),j.props.add_response_time_q_1(j.state.response_time_q_1[R]),j.props.add_contrast_q_1(j.state.contrast_array_q_1[R]),j.props.add_response_q_2(j.state.responses_q_2[R]),j.props.add_response_time_q_2(j.state.response_time_q_2[R]),j.props.add_contrast_q_2(j.state.contrast_array_q_2[R]);return j.setState({continue:!0}),n.abrupt("return");case 21:o<a&&(S=window.requestAnimationFrame(T),1==j.state.currentQ&&1==j.state.change&&(h=y(h,[j.state.contrast_array_q_1[j.state.contrast_array_q_1.length-1]],[j.state.responses_q_1[j.state.responses_q_1.length-1]]),console.log(v(h)),j.setState({change:!1})),2==j.state.currentQ&&1==j.state.change&&(d=y(d,j.state.contrast_array_q_1[j.state.contrast_array_q_1.length-1],j.state.responses_q_1[j.state.responses_q_1.length-1]),j.setState({change:!1})));case 22:case"end":return n.stop()}},n)}))).apply(this,arguments)}T.call(j)}},{key:"keyFunction",value:function(e){var t=(new Date).getTime()/1e3;81===e.keyCode&&1==this.state.time_window&&1==this.state.currentQ&&(this.setState({counter:this.state.counter+1,responses_q_1:this.state.responses_q_1.concat([1]),response_time_q_1:this.state.response_time_q_1.concat([t-this.state.time_window_start]),time_window:!1}),this.state.counter==this.state.limit&&this.setState({continue:!0})),81===e.keyCode&&1==this.state.time_window&&2==this.state.currentQ&&(this.setState({counter2:this.state.counter2+1,responses_q_2:this.state.responses_q_2.concat([1]),response_time_q_2:this.state.response_time_q_2.concat([t-this.state.time_window_start]),time_window:!1}),this.state.counter==this.state.limit&&this.setState({continue:!0})),69===e.keyCode&&1==this.state.time_window&&1==this.state.currentQ&&(this.setState({counter:this.state.counter+1,responses_q_1:this.state.responses_q_1.concat([0]),response_time_q_1:this.state.response_time_q_1.concat([t-this.state.time_window_start]),time_window:!1,rating_window:!1}),this.state.counter==this.state.limit&&this.setState({continue:!0})),69===e.keyCode&&1==this.state.time_window&&2==this.state.currentQ&&(this.setState({counter:this.state.counter2+1,responses_q_2:this.state.responses_q_2.concat([0]),response_time_q_2:this.state.response_time_q_2.concat([t-this.state.time_window_start]),time_window:!1,rating_window:!1}),this.state.counter==this.state.limit&&this.setState({continue:!0}))}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyFunction,!1),0==this.state.continue&&this.create_noise(this.audioContext)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyFunction,!1)}},{key:"render",value:function(){return 1==this.state.continue?r.a.createElement(p.a,{to:"/Complete"}):r.a.createElement("div",{className:"TrialQ"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"TrialQ-header"},r.a.createElement("canvas",{id:"c",width:"256",height:"256",style:{zIndex:"0",position:"fixed",left:"25%",width:"50%",height:"auto"}}),r.a.createElement("p",{style:{fontSize:"10",fontWeight:"bold"}}," PLEASE RATE CONFIDENCE 1-5 "),r.a.createElement("canvas",{id:"c2",width:"256",height:"256",style:{zIndex:"1",position:"fixed",left:"25%",width:"50%",height:"auto"}})))}}]),t}(a.Component),U=Object(k.c)(function(e){return{data:e.data}},function(e){return{add_response_q_1:function(t){return e({type:"ADD_RESPONSE_Q_1",payload:t})},add_response_time_q_1:function(t){return e({type:"ADD_RESPONSE_TIME_Q_1",payload:t})},add_contrast_q_1:function(t){return e({type:"ADD_CONTRAST_Q_1",payload:t})},add_response_q_2:function(t){return e({type:"ADD_RESPONSE_Q_2",payload:t})},add_response_time_q_2:function(t){return e({type:"ADD_RESPONSE_TIME_Q_2",payload:t})},add_contrast_q_2:function(t){return e({type:"ADD_CONTRAST_Q_2",payload:t})},add_array:function(t){return e(A(t))},add_object:function(t){return e(function(e){return{type:"ADD_OBJ",payload:e}}(t))}}})(L);function Y(e,t,n,a){if(a){var r=a.createOscillator(),s=a.createGain();r.connect(s),r.value=t,s.connect(a.destination),s.gain.value=e/100,r.start(a.currentTime),r.stop(a.currentTime+n/1e3)}}var W=function(){return r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",exact:!0,component:x}),r.a.createElement(p.b,{path:"/Welcome",exact:!0,component:x}),r.a.createElement(p.b,{path:"/Instructions",exact:!0,component:M}),r.a.createElement(p.b,{path:"/TrialQ",exact:!0,component:U}),r.a.createElement(p.b,{path:"/Complete",exact:!0,component:R}),r.a.createElement(p.b,{component:C}))},B=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(W,null))}}]),t}(a.Component),V=n(68),H=n(34),J=n(55),X=n(204),K=n(133),Z=n(11),$=n(9),ee={responses_P:[],responses_q_1:[],responses_q_2:[],responses_tt_1:[],responses_tt_2:[],responses_tt_3:[],responses_tt_4:[],response_time_P:[],response_time_q_1:[],response_time_q_2:[],response_time_tt_1:[],response_time_tt_2:[],response_time_tt_3:[],response_time_tt_4:[],ratings_tt_1:[],ratings_tt_2:[],ratings_tt_3:[],ratings_tt_4:[],contrast_P:[],contrast_q_1:[],contrast_q_2:[],contrast_tt_1:[],contrast_tt_2:[],contrast_tt_3:[],contrast_tt_4:[],test:1,trial1Struct:{intensities:[],parameters:[],beta:0}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ARRAY":return e+1;case"ADD_RESPONSE_P":return Object($.a)({},e,{responses_P:[].concat(Object(Z.a)(e.responses_P),[t.payload])});case"ADD_RESPONSE_Q_1":return Object($.a)({},e,{responses_q_1:[].concat(Object(Z.a)(e.responses_q_1),[t.payload])});case"ADD_RESPONSE_Q_2":return Object($.a)({},e,{responses_q_2:[].concat(Object(Z.a)(e.responses_q_2),[t.payload])});case"ADD_RESPONSE_TT_1":return Object($.a)({},e,{responses_tt_1:[].concat(Object(Z.a)(e.responses_tt_1),[t.payload])});case"ADD_RESPONSE_TT_2":return Object($.a)({},e,{responses_tt_2:[].concat(Object(Z.a)(e.responses_tt_2),[t.payload])});case"ADD_RESPONSE_TT_3":return Object($.a)({},e,{responses_tt_3:[].concat(Object(Z.a)(e.responses_tt_3),[t.payload])});case"ADD_RESPONSE_TT_4":return Object($.a)({},e,{responses_tt_4:[].concat(Object(Z.a)(e.responses_tt_4),[t.payload])});case"ADD_RESPONSE_TIME_P":return Object($.a)({},e,{response_time_P:[].concat(Object(Z.a)(e.response_time_P),[t.payload])});case"ADD_RESPONSE_TIME_Q_1":return Object($.a)({},e,{response_time_q_1:[].concat(Object(Z.a)(e.response_time_q_1),[t.payload])});case"ADD_RESPONSE_TIME_Q_2":return Object($.a)({},e,{response_time_q_2:[].concat(Object(Z.a)(e.response_time_q_2),[t.payload])});case"ADD_RESPONSE_TIME_TT_1":return Object($.a)({},e,{response_time_tt_1:[].concat(Object(Z.a)(e.response_time_tt_1),[t.payload])});case"ADD_RESPONSE_TIME_TT_2":return Object($.a)({},e,{response_time_tt_2:[].concat(Object(Z.a)(e.response_time_tt_2),[t.payload])});case"ADD_RESPONSE_TIME_TT_3":return Object($.a)({},e,{response_time_tt_3:[].concat(Object(Z.a)(e.response_time_tt_3),[t.payload])});case"ADD_RESPONSE_TIME_TT_4":return Object($.a)({},e,{response_time_tt_4:[].concat(Object(Z.a)(e.response_time_tt_4),[t.payload])});case"ADD_RATING_TT_1":return Object($.a)({},e,{rating_tt_1:[].concat(Object(Z.a)(e.ratings_tt_1),[t.payload])});case"ADD_RATING_TT_2":return Object($.a)({},e,{rating_tt_2:[].concat(Object(Z.a)(e.ratings_tt_2),[t.payload])});case"ADD_RATING_TT_3":return Object($.a)({},e,{rating_tt_3:[].concat(Object(Z.a)(e.ratings_tt_3),[t.payload])});case"ADD_RATING_TT_4":return Object($.a)({},e,{rating_tt_4:[].concat(Object(Z.a)(e.ratings_tt_4),[t.payload])});case"ADD_CONTRAST_P":return Object($.a)({},e,{contrast_P:[].concat(Object(Z.a)(e.contrast_P),[t.payload])});case"ADD_CONTRAST_Q_1":return Object($.a)({},e,{contrast_q_1:[].concat(Object(Z.a)(e.contrast_q_1),[t.payload])});case"ADD_CONTRAST_Q_2":return Object($.a)({},e,{contrast_q_2:[].concat(Object(Z.a)(e.contrast_q_2),[t.payload])});case"ADD_CONTRAST_TT_1":return Object($.a)({},e,{contrast_tt_1:[].concat(Object(Z.a)(e.contrast_tt_1),[t.payload])});case"ADD_CONTRAST_TT_2":return Object($.a)({},e,{contrast_tt_2:[].concat(Object(Z.a)(e.contrast_tt_2),[t.payload])});case"ADD_CONTRAST_TT_3":return Object($.a)({},e,{contrast_tt_3:[].concat(Object(Z.a)(e.contrast_tt_3),[t.payload])});case"ADD_CONTRAST_TT_4":return Object($.a)({},e,{contrast_tt_4:[].concat(Object(Z.a)(e.contrast_tt_4),[t.payload])});case"ADD_OBJ":return Object($.a)({},e,{trial1Struct:t.payload});default:return e}},ne=function(e){return Object(J.c)({data:te,router:Object(K.a)(e)})},ae=Object(H.a)();var re=function(e){var t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.d;return Object(J.e)(ne(ae),e,t(Object(J.a)(Object(X.a)(ae))))}({history:ae});o.a.render(r.a.createElement(k.a,{store:re},r.a.createElement(V.a,{history:ae,basename:"/VCH_APP_SMITH"},r.a.createElement(B,null))),document.getElementById("root"))}},[[209,1,2]]]);
//# sourceMappingURL=main.5ca951b1.chunk.js.map